<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ŸÑÿπÿ®ÿ© ÿßŸÑÿ∞ŸÉÿßÿ°</title>
<style>
body{
    font-family:Arial;
    text-align:center;
    background:#f0f0f0;
    margin:0;
    padding-top:30px
}
.question{font-size:22px;margin-bottom:20px}
.option{
    display:block;
    margin:8px auto;
    padding:10px 20px;
    font-size:18px;
    cursor:pointer;
    width:300px
}
.correct{background:#b6f2b6}
.incorrect{background:#f2b6b6}
#message{font-size:24px;margin:20px}
.back{
    margin-bottom:15px;
    cursor:pointer;
    background:#333;
    color:#fff;
    border:none;
    padding:8px 16px;
    border-radius:8px
}
</style>
</head>
<body>

<button class="back" onclick="window.location.href='index.html'">‚¨ÖÔ∏è ÿ±ÿ¨Ÿàÿπ</button>

<div id="game">
    <div class="question" id="question"></div>
    <div id="options"></div>
</div>

<div id="message"></div>

<script>
const allQuestions = [
/* üî¢ 65 ÿ≥ÿ§ÿßŸÑ ‚Äî ŸÉŸÖÿß ÿ£ÿ±ÿ≥ŸÑÿ™Ÿáÿß ÿ®ÿØŸàŸÜ ÿ≠ÿ∞ŸÅ */
{q:"ÿ≤ÿßŸàŸäÿ© ÿ™ŸÉŸÖŸÑ 35¬∞ ŸÑÿ™ÿµÿ®ÿ≠ 90¬∞ÿü",c:[45,55,65,75],a:55},
{q:"2x+6=18",c:[5,6,7,8],a:6},
{q:"ŸÖÿ±ÿ®ÿπ ŸÖÿ≠Ÿäÿ∑Ÿá 20ÿå ÿ∑ŸàŸÑ ÿßŸÑÿ∂ŸÑÿπÿü",c:[4,5,6,8],a:5},
{q:"8√ó(5‚àí2)",c:[16,20,24,30],a:24},
{q:"ŸÖÿ¨ŸÖŸàÿπ ÿ≤ÿßŸàŸäÿ™ŸäŸÜ 110¬∞ÿå ÿßŸÑÿ´ÿßŸÑÿ´ÿ©ÿü",c:[60,70,80,90],a:70},
{q:"ÿπÿØÿØÿßŸÜ ŸÖÿ™ÿ™ÿßŸÑŸäÿßŸÜ ŸÖÿ¨ŸÖŸàÿπŸáŸÖÿß 41",c:["20 Ÿà21","19 Ÿà22","18 Ÿà23","17 Ÿà24"],a:"20 Ÿà21"},
{q:"ŸÖÿ≥ÿßÿ≠ÿ© ŸÖÿ≥ÿ™ÿ∑ŸäŸÑ 9√ó4",c:[36,30,32,40],a:36},
{q:"x‚àí7=15",c:[18,20,22,25],a:22},
{q:"ÿ≤ÿßŸàŸäÿ© ŸÖÿ≥ÿ™ŸÇŸäŸÖÿ©",c:[90,120,180,360],a:180},
{q:"ÿπÿØÿØ √∑4 =7",c:[24,26,28,30],a:28},
{q:"ŸÖÿ≠Ÿäÿ∑ ŸÖÿ´ŸÑÿ´ ŸÖÿ™ÿ≥ÿßŸàŸä ÿßŸÑÿ£ÿ∂ŸÑÿßÿπ ÿ∂ŸÑÿπŸá 7",c:[14,21,28,35],a:21},
{q:"3¬≤+4¬≤",c:[25,49,12,7],a:25},
{q:"ÿπÿØÿØ+9 ÿ´ŸÖ √ó2 =30",c:[6,7,8,9],a:6},
{q:"ÿπÿØÿØ ÿ£ÿ∂ŸÑÿßÿπ ÿßŸÑŸÖÿ´ŸÖŸÜ",c:[6,7,8,9],a:8},
{q:"ŸÖÿ¨ŸÖŸàÿπ ÿ≤ŸàÿßŸäÿß ÿßŸÑÿ±ÿ®ÿßÿπŸä",c:[180,270,360,450],a:360},
{q:"(10√∑2)√ó6",c:[25,30,40,60],a:30},
{q:"ŸÖÿ≥ÿßÿ≠ÿ© ŸÖÿ±ÿ®ÿπ ÿ∂ŸÑÿπŸá 11",c:[121,111,99,132],a:121},
{q:"5x‚àí5=20",c:[4,5,6,7],a:5},
{q:"ŸÖÿ≠Ÿäÿ∑ ŸÖÿ±ÿ®ÿπ ŸÖÿ≥ÿßÿ≠ÿ™Ÿá 49",c:[24,26,28,30],a:28},
{q:"(4+6)¬≤",c:[50,64,100,121],a:100},

{q:"ÿπÿØÿØ ÿ•ÿ∞ÿß ÿ∂ÿ±ÿ® ŸÅŸä ŸÜŸÅÿ≥Ÿá =144",c:[10,11,12,13],a:12},
{q:"ÿ≤ÿßŸàŸäÿ™ÿßŸÜ ŸÖÿ™ŸÉÿßŸÖŸÑÿ™ÿßŸÜ ŸÖÿ¨ŸÖŸàÿπŸáŸÖÿß",c:[90,120,180,360],a:180},
{q:"5√ó6‚àí8",c:[22,24,26,30],a:22},
{q:"ÿπÿØÿØ √∑5 =9",c:[40,45,50,55],a:45},
{q:"ŸÖÿ≥ÿßÿ≠ÿ© ŸÖÿ´ŸÑÿ´ ŸÇÿßÿπÿØÿ™Ÿá 10 Ÿàÿßÿ±ÿ™ŸÅÿßÿπŸá 6",c:[30,40,50,60],a:30},
{q:"4x=36",c:[7,8,9,10],a:9},
{q:"ŸÖÿ≠Ÿäÿ∑ ŸÖÿ≥ÿ™ÿ∑ŸäŸÑ 12√ó8",c:[30,36,40,48],a:40},
{q:"ÿπÿØÿØ ÿ≤ŸàÿßŸäÿß ÿßŸÑÿÆŸÖÿßÿ≥Ÿä",c:[4,5,6,7],a:5},
{q:"2¬≥+5",c:[11,12,13,14],a:13},
{q:"ÿπÿØÿØ‚àí15=25",c:[35,40,45,50],a:40},
{q:"(7+5)√ó3",c:[30,33,36,40],a:36},
{q:"ÿπÿØÿØ √∑8 =6",c:[42,46,48,54],a:48},
{q:"ŸÖÿ¨ŸÖŸàÿπ ÿ≤ŸàÿßŸäÿß ÿßŸÑÿÆŸÖÿßÿ≥Ÿä",c:[360,450,540,630],a:540},
{q:"6¬≥√∑9",c:[18,24,36,48],a:24},
{q:"ÿπÿØÿØ‚àí20 = ŸÜÿµŸÅŸá",c:[20,30,40,50],a:40},
{q:"ŸÖÿ≠Ÿäÿ∑ ÿØÿßÿ¶ÿ±ÿ© ŸÇÿ∑ÿ±Ÿáÿß 14",c:[22,44,66,88],a:44},

{q:"ŸÖÿ≥ÿßÿ≠ÿ© ÿØÿßÿ¶ÿ±ÿ© ŸÇÿ∑ÿ±Ÿáÿß 10",c:[75,78,80,100],a:75},
{q:"ÿπÿØÿØ √∑9 =8",c:[63,72,81,90],a:72},
{q:"3(x‚àí2)=12",c:[4,5,6,7],a:6},
{q:"ŸÖÿ≠Ÿäÿ∑ ŸÖÿ±ÿ®ÿπ ŸÇÿ∑ÿ±Ÿá 10",c:[20,28,40,56],a:40},
{q:"(2+3)¬≥",c:[25,75,100,125],a:125},
{q:"ÿπÿØÿØ ÿ•ÿ∞ÿß ÿ∂ÿ±ÿ® ŸÅŸä 7 =63",c:[7,8,9,10],a:9},
{q:"ÿ≤ÿßŸàŸäÿ© ŸÖŸÜŸÅÿ±ÿ¨ÿ© ÿ™ŸÇÿπ ÿ®ŸäŸÜ",c:["0-90","90-180","180-270","270-360"],a:"90-180"},
{q:"ÿπÿØÿØ ÿ£ÿ∂ŸÑÿßÿπ ÿßŸÑŸÖÿπŸäŸÜ",c:[3,4,5,6],a:4},
{q:"ŸÖÿ¨ŸÖŸàÿπ ÿ≤ŸàÿßŸäÿß ÿßŸÑÿ≥ÿØÿßÿ≥Ÿä",c:[540,600,720,900],a:720},
{q:"15‚àí(5√ó2)",c:[3,5,7,10],a:5},
{q:"ÿπÿØÿØ ÿ•ÿ∞ÿß ÿ≤ŸäÿØ 12 ÿ£ÿµÿ®ÿ≠ ÿ∂ÿπŸÅŸá",c:[10,12,14,16],a:12},
{q:"ŸÖÿ≠Ÿäÿ∑ ŸÖÿ±ÿ®ÿπ ÿ∂ŸÑÿπŸá 9",c:[18,27,36,45],a:36},
{q:"ÿπÿØÿØ ÿ£ŸàŸÑŸä ŸÖŸÜ ÿßŸÑÿÆŸäÿßÿ±ÿßÿ™",c:[9,15,17,21],a:17},
{q:"ŸÖÿ¨ŸÖŸàÿπ ÿ£ŸàŸÑ 3 ÿ£ÿπÿØÿßÿØ ŸÅÿ±ÿØŸäÿ©",c:[6,8,9,12],a:9},
{q:"(6+4)√∑2",c:[4,5,6,7],a:5}
];

function shuffle(a){return a.sort(()=>Math.random()-0.5)}

let questions = shuffle([...allQuestions]).slice(0,10);
let index=0, score=0, answers=[];

function show(){
    const q = questions[index];
    question.innerText = q.q;
    const opts = shuffle([...q.c]);
    options.innerHTML="";
    opts.forEach(o=>{
        const b=document.createElement("button");
        b.className="option";
        b.innerText=o;
        b.onclick=()=>check(o);
        options.appendChild(b);
    });
}

function check(sel){
    answers.push({sel,correct:questions[index].a});
    if(sel===questions[index].a) score++;
    index++;
    index<questions.length ? setTimeout(show,300) : end();
}

function end(){
    game.style.display="none";

    let msg = score>=7 ? "ÿ≠Ÿä ÿπŸäŸÜŸÉ ŸÉŸÅŸà ŸÉŸÅŸà"
            : score>=4 ? "ŸÖÿßÿßÿßÿßÿ¥"
            : "ŸÑÿß ÿ£ÿ≠ÿØ Ÿäÿ¥ŸàŸÅ ÿØÿ±ÿ¨ÿ™ŸÉ ÿ®ÿ≥";
    message.innerText = msg;

    /* üíæ localStorage */
    localStorage.setItem("lastScore", score);
    let best = localStorage.getItem("bestScore");
    if(!best || score>best) localStorage.setItem("bestScore", score);
    localStorage.setItem("mathScore", score);
    localStorage.setItem("tries", Number(localStorage.getItem("tries")||0)+1);

    let history = JSON.parse(localStorage.getItem("history")||"[]");
    history.push("üßÆ ÿ±Ÿäÿßÿ∂Ÿäÿßÿ™: "+score+"/10");
    localStorage.setItem("history", JSON.stringify(history));

    setTimeout(()=>{
        message.innerHTML="<h3>ÿ•ÿ¨ÿßÿ®ÿßÿ™ŸÉ:</h3>";
        answers.forEach(a=>{
            const d=document.createElement("div");
            d.innerText=a.sel;
            d.className=a.sel===a.correct?"correct":"incorrect";
            message.appendChild(d);
        });
    },3000);
}

show();
</script>

</body>
</html>
